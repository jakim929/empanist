{"version":3,"sources":["meteor://ðŸ’»app/packages/aldeed:template-extension/lib/hooks.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-for-each.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-hooks.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-global-hooks.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-for-each-instance.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-inherits-events-from.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-inherits-helpers-from.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-inherits-hooks-from.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-register-helpers.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-replaces.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-clear-event-maps.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-copy-as.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-instance-parent.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-instance-get.js","meteor://ðŸ’»app/packages/aldeed:template-extension/lib/template-parent-data-function.js"],"names":[],"mappings":"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","file":"/packages/aldeed_template-extension.js","sourcesContent":["Hooks = {\n  global: {\n    created: [],\n    rendered: [],\n    destroyed: []\n  },\n  master: {\n    created: function () {\n      Hooks.runGlobal('created', this, arguments);\n    },\n    rendered: function () {\n      Hooks.runGlobal('rendered', this, arguments);\n    },\n    destroyed: function () {\n      Hooks.runGlobal('destroyed', this, arguments);\n    }\n  }\n};\n\nHooks.addGlobal = (template) => {\n  // For each hookType, define the hooks for this template.\n  // Since we might call this multiple times from startup code\n  // and other functions, make sure we do it only once.\n  // Doing it twice would create an infinite loop of self-calling\n  // hooks.\n  if (!template._hasTemplateExtensionMasterHooks) {\n    template.onCreated(Hooks.master.created);\n    template.onRendered(Hooks.master.rendered);\n    template.onDestroyed(Hooks.master.destroyed);\n    \n    template._hasTemplateExtensionMasterHooks = true;\n  }\n};\n\nHooks.runGlobal = (type, template, args) => {\n  for (let hook of Hooks.global[type]) {\n    hook.apply(template, args);\n  }\n};\n","Template.forEach = (callback) => {\n  // for some reason we get the \"body\" template twice when looping, so\n  // we track that and only call the callback once.\n  var alreadyDidBody = false;\n  for (var t in Template) {\n    if (Template.hasOwnProperty(t)) {\n      var tmpl = Template[t];\n      if (Blaze.isTemplate(tmpl)) {\n        let name = tmpl.viewName;\n        if (name === \"body\") {\n          if (!alreadyDidBody) {\n            alreadyDidBody = true;\n            callback(tmpl);\n          }\n        } else if (name !== 'Template.__dynamic' && name !== 'Template.__dynamicWithDataContext') {\n          callback(tmpl);\n        }\n      }\n    }\n  }\n};\n","Template.prototype.hooks = function (hooks) {\n  if (!hooks || typeof hooks !== \"object\") {\n    throw new Error(\"hooks argument must be an object with created, rendered, and/or destroyed properties, each set to a function\");\n  }\n  \n  if (typeof hooks.created === 'function') this.onCreated(hooks.created);\n  if (typeof hooks.rendered === 'function') this.onRendered(hooks.rendered);\n  if (typeof hooks.destroyed === 'function') this.onDestroyed(hooks.destroyed);\n};\n","// Setup for multiple hooks support\n// We assume that no other code will be directly defining\n// a hook once the client has started.\nMeteor.startup(() => {\n  Template.forEach((template) => {\n    Hooks.addGlobal(template);\n  });\n});\n\nTemplate.onCreated = (hook) => {\n  Hooks.global.created.push(hook);\n};\n\nTemplate.onRendered = (hook) => {\n  Hooks.global.rendered.push(hook);\n};\n\nTemplate.onDestroyed = (hook) => {\n  Hooks.global.destroyed.push(hook);\n};\n","Template._renderedInstances = [];\n\nTemplate.onRendered(function () {\n  Template._renderedInstances.push(this);\n});\n\nTemplate.onDestroyed(function () {\n  var i = Template._renderedInstances.indexOf(this);\n  if (i > -1) Template._renderedInstances.splice(i, 1);\n});\n\nTemplate.forEachCurrentlyRenderedInstance = (func) => {\n  Template._renderedInstances.forEach(func);\n};\n","Template.prototype.inheritsEventsFrom = function inheritsEventsFrom(otherTemplate) {\n  var self = this;\n  \n  self.__eventMaps = self.__eventMaps || [];\n\n  function inheritEvents(template) {\n    // String template names can be provided and template object is looked up\n    if (typeof template === 'string') template = Template[template];\n    if (!template) return;\n    \n    self.__eventMaps = self.__eventMaps.concat(template.__eventMaps);\n  }\n\n  // Accept an array as otherTemplate argument\n  if (_.isArray(otherTemplate)) {\n    _.each(otherTemplate, inheritEvents);\n  } else { //otherTemplate is a string\n    inheritEvents(otherTemplate);\n  }\n};\n","Template.prototype.inheritsHelpersFrom = function inheritsHelpersFrom(otherTemplate) {\n  var self = this;\n  \n  function inheritHelpers(template) {\n    // String template names can be provided and template object is looked up\n    if (typeof template === 'string') template = Template[template];\n    if (!template) return;\n    \n    let inheritedHelpers = {};\n    _.each(template.__helpers, (helper, name) => {\n      if (name.charAt(0) === \" \") inheritedHelpers[name.slice(1)] = helper;\n    });\n\n    self.helpers(inheritedHelpers);\n  }\n\n  // Accept an array as otherTemplate argument\n  if (_.isArray(otherTemplate)) {\n    _.each(otherTemplate, inheritHelpers);\n  } else { //otherTemplate is a string\n    inheritHelpers(otherTemplate);\n  }\n};\n","Template.prototype.inheritsHooksFrom = function inheritsHooksFrom(otherTemplate) {\n  var self = this;\n  \n  function inheritHooks(template) {\n    // String template names can be provided and template object is looked up\n    if (typeof template === 'string') template = Template[template];\n    if (!template) return;\n    \n    // For this to work properly, need to ensure that we've defined\n    // the global hook hook for the other template already.\n    Hooks.addGlobal(template);\n    \n    for (let hook of template._callbacks.created) {\n      // Don't copy the master hook because every template already has it\n      if (hook === Hooks.master.created) continue;\n      self.onCreated(hook);\n    }\n    \n    for (let hook of template._callbacks.rendered) {\n      // Don't copy the master hook because every template already has it\n      if (hook === Hooks.master.rendered) continue;\n      self.onRendered(hook);\n    }\n    \n    for (let hook of template._callbacks.destroyed) {\n      // Don't copy the master hook because every template already has it\n      if (hook === Hooks.master.destroyed) continue;\n      self.onDestroyed(hook);\n    }\n  }\n\n  // Accept an array as otherTemplate argument\n  if (_.isArray(otherTemplate)) {\n    _.each(otherTemplate, inheritHooks);\n  } else { //otherTemplate is a string\n    inheritHooks(otherTemplate);\n  }\n};\n","Template.registerHelpers = (helpers) => {\n  if (!helpers) return;\n\n  for (let name in helpers) {\n    if (helpers.hasOwnProperty(name)) {\n      Template.registerHelper(name, helpers[name]);\n    }\n  }\n};\n","Template.prototype.replaces = function replaces(otherTemplate) {\n  var self = this;\n\n  function replaceRender(template) {\n    // String template names can be provided and template object is looked up\n    if (typeof template === 'string') template = Template[template];\n    if (!template) return;\n\n    template.renderFunction = self.renderFunction;\n  }\n\n  // Accept an array as otherTemplate argument\n  if (_.isArray(otherTemplate)) {\n    _.each(otherTemplate, replaceRender);\n  } else {\n    replaceRender(otherTemplate);\n  }\n};\n","Template.prototype.clearEventMaps = function clearEventMaps() {\n  this.__eventMaps = [];\n};\n","Template.prototype.copyAs = function copyAs(newTemplateName) {\n  var self = this;\n\n  function createNewTemplate(templateName) {\n    var newTemplate =\n    Template[templateName] = new Template(`Template.${templateName}`, self.renderFunction);\n\n    newTemplate.inheritsHelpersFrom(self);\n    newTemplate.inheritsEventsFrom(self);\n    newTemplate.inheritsHooksFrom(self);\n\n    return newTemplate;\n  }\n\n  // Check if newTemplateName is an array\n  if (_.isArray(newTemplateName)) {\n    let result = [];\n    for (let name of newTemplateName) {\n      result.push(createNewTemplate(name));\n    }\n    return result;\n  } else { //newTemplateName is a string\n    return createNewTemplate(newTemplateName);\n  }\n};\n","// Access parent template instance. \"height\" is the number of levels beyond the\n// current template instance to look. By default block helper template instances\n// are skipped, but if \"includeBlockHelpers\" is set to true, they are not.\n// See https://github.com/meteor/meteor/issues/3071\nBlaze.TemplateInstance.prototype.parent = function parent(height, includeBlockHelpers) {\n  // If height is null or undefined, we default to 1, the first parent.\n  if (height == null) height = 1;\n\n  var i = 0;\n  var template = this;\n  while (i < height && template) {\n    var view = parentView(template.view, includeBlockHelpers);\n    // We skip contentBlock views which are injected by Meteor when using\n    // block helpers (in addition to block helper view). This matches more\n    // the visual structure of templates and not the internal implementation.\n    while (view && (!view.template || view.name === '(contentBlock)' || view.name === '(elseBlock)')) {\n      view = parentView(view, includeBlockHelpers);\n    }\n    if (!view) return null;\n    // Body view has template field, but not templateInstance,\n    // which more or less signals that we reached the top.\n    template = typeof view.templateInstance === 'function' ? view.templateInstance() : null;\n    i++;\n  }\n  return template;\n};\n\nfunction parentView(view, includeBlockHelpers) {\n  if (includeBlockHelpers) return view.originalParentView || view.parentView;\n  return view.parentView;\n}\n","// Allow easy access to a template instance field when you do not know exactly\n// on which instance (this, or parent, or parent's parent, ...) a field is defined.\n// This allows easy restructuring of templates in HTML, moving things to included\n// templates without having to change everywhere in the code instance levels.\n// It also allows different structures of templates, when once template is included\n// at one level, and some other time at another. Levels do not matter anymore, just\n// that the field exists somewhere.\nBlaze.TemplateInstance.prototype.get = function get(fieldName) {\n  var template = this;\n\n  while (template) {\n    if (fieldName in template) return template[fieldName];\n    template = template.parent(1, true);\n  }\n};\n","// Allow to specify a function to test parent data for at various\n// levels, instead of specifying a fixed number of levels to traverse.\nvar originalParentData = Blaze._parentData;\nBlaze._parentData = function (height, _functionWrapped) {\n  // If height is not a function, simply call original implementation.\n  if (typeof height !== 'function') return originalParentData(height, _functionWrapped);\n\n  var theWith = Blaze.getView('with');\n  var test = () => { return height(theWith.dataVar.get()); };\n  while (theWith) {\n    if (Tracker.nonreactive(test)) break;\n    theWith = Blaze.getView(theWith, 'with');\n  }\n\n  // _functionWrapped is internal and will not be\n  // specified with non numeric height, so we ignore it.\n  if (!theWith) return null;\n  // This registers a Tracker dependency.\n  return theWith.dataVar.get();\n};\n\nTemplate.parentData = Blaze._parentData;\n"]}