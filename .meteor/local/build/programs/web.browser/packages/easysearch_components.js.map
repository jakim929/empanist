{"version":3,"sources":["meteor://ðŸ’»app/packages/easysearch:components/lib/base.js","meteor://ðŸ’»app/packages/easysearch:components/lib/single-index.js","meteor://ðŸ’»app/packages/easysearch:components/lib/component-methods.js","meteor://ðŸ’»app/packages/easysearch:components/lib/core.js","meteor://ðŸ’»app/packages/easysearch_components/lib/input/template.input.js","meteor://ðŸ’»app/packages/easysearch:components/lib/input/input.js","meteor://ðŸ’»app/packages/easysearch_components/lib/field-input/template.field-input.js","meteor://ðŸ’»app/packages/easysearch:components/lib/field-input/field-input.js","meteor://ðŸ’»app/packages/easysearch_components/lib/each/template.each.js","meteor://ðŸ’»app/packages/easysearch:components/lib/each/each.js","meteor://ðŸ’»app/packages/easysearch_components/lib/if-input-empty/template.if-input-empty.js","meteor://ðŸ’»app/packages/easysearch:components/lib/if-input-empty/if-input-empty.js","meteor://ðŸ’»app/packages/easysearch_components/lib/if-no-results/template.if-no-results.js","meteor://ðŸ’»app/packages/easysearch:components/lib/if-no-results/if-no-results.js","meteor://ðŸ’»app/packages/easysearch_components/lib/if-searching/template.if-searching.js","meteor://ðŸ’»app/packages/easysearch:components/lib/if-searching/if-searching.js","meteor://ðŸ’»app/packages/easysearch_components/lib/load-more/template.load-more.js","meteor://ðŸ’»app/packages/easysearch:components/lib/load-more/load-more.js","meteor://ðŸ’»app/packages/easysearch_components/lib/pagination/template.pagination.js","meteor://ðŸ’»app/packages/easysearch:components/lib/pagination/pagination.js"],"names":[],"mappings":"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","file":"/packages/easysearch_components.js","sourcesContent":["/**\n * The BaseComponent holds the base logic for EasySearch Components.\n *\n * @type {BaseComponent}\n */\nBaseComponent = class BaseComponent extends BlazeComponent {\n  /**\n   * Return the name of the component.\n   *\n   * @returns {String}\n   */\n  get name() {\n    return this.getData().name;\n  }\n\n  /**\n   * Return an array of properties that are reserved to the base component.\n   *\n   * @returns {String[]}\n   */\n  static get reserveredProperties() {\n    return ['index', 'indexes', 'name', 'attributes'];\n  }\n\n  /**\n   * Setup component on created.\n   */\n  onCreated() {\n    let index = this.getData().index,\n      indexes = [index];\n\n    if (!index) {\n      indexes = this.getData().indexes;\n    }\n\n    if (_.isEmpty(indexes)) {\n      throw new Meteor.Error('no-index', 'Please provide an index for your component');\n    }\n\n    if (indexes.filter((index) => index instanceof EasySearch.Index).length != indexes.length) {\n      throw new Meteor.Error(\n        'invalid-configuration',\n        `Did not receive an index or an array of indexes: \"${indexes.toString()}\"`\n      );\n    }\n\n    this.indexes = indexes;\n    this.options = _.defaults({}, _.omit(this.getData(), ...BaseComponent.reserveredProperties), this.defaultOptions);\n\n    check(this.name, Match.Optional(String));\n    check(this.options, Object);\n\n    this.eachIndex(function (index, name) {\n      if (!index.getComponentDict(name)) {\n        index.registerComponent(name);\n      }\n    });\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions () {\n    return {};\n  }\n\n  /**\n   * Search the component.\n   *\n   * @param {String} searchString String to search for\n   */\n  search(searchString) {\n    check(searchString, String);\n\n    const showDocuments = !this.getData().noDocumentsOnEmpty || 0 < searchString.length;\n\n    this.eachIndex(function (index, name) {\n      index.getComponentDict(name).set('showDocuments', showDocuments);\n\n      if (showDocuments) {\n        index.getComponentMethods(name).search(searchString);\n      }\n    });\n  }\n\n  /**\n   * Return the data.\n   *\n   * @returns {Object}\n   */\n  getData() {\n    return (this.data() || {});\n  }\n\n  /**\n   * Return the dictionaries.\n   *\n   * @returns {Object}\n   */\n  get dicts() {\n    return this.eachIndex((index, name) => {\n      return index.getComponentDict(name);\n    }, 'map');\n  }\n\n  /**\n   * Loop through each index and apply a function\n   *\n   * @param {Function} func   Function to run\n   * @param {String}   method Lodash method name\n   *\n   * @return mixed\n   */\n  eachIndex(func, method = 'each') {\n    let componentScope = this,\n      logic = this.getData().logic;\n\n    if (!_.isEmpty(logic)) {\n      method = 'OR' === logic ? 'some' : 'every';\n    }\n\n    return _[method](this.indexes, function (index) {\n      return func.apply(this, [index, componentScope.name]);\n    });\n  }\n};\n\nEasySearch.BaseComponent = BaseComponent;\n","/**\n * The SingleIndexComponent holds logic for components that only can use one index.\n *\n * @type {SingleIndexComponent}\n */\nSingleIndexComponent = class SingleIndexComponent extends BaseComponent {\n  /**\n   * Setup component on created.\n   */\n  onCreated() {\n    super.onCreated();\n\n    if (this.indexes.length > 1) {\n      throw new Meteor.Error('only-single-index', 'Can only specify one index');\n    }\n  }\n\n  /**\n   * Return the index\n   *\n   * @returns {Index}\n   */\n  get index() {\n    return _.first(this.indexes);\n  }\n\n  /**\n   * Return the dictionary.\n   *\n   * @returns {Object}\n   */\n  get dict() {\n    return _.first(this.dicts);\n  }\n};\n\nEasySearch.SingleIndexComponent = SingleIndexComponent;\n","EasySearch._getComponentMethods = function (dict, index) {\n  return {\n    /**\n     * Search a component for the given search string.\n     *\n     * @param {Object|String} searchDefinition Search definition\n     */\n    search: (searchDefinition) => {\n      dict.set('searchOptions', {\n        props: (dict.get('searchOptions') || {}).props\n      });\n\n      dict.set('searchDefinition', searchDefinition);\n      dict.set('stopPublication', true);\n    },\n    /**\n     * Return the EasySearch.Cursor for the current search.\n     *\n     * @returns {Cursor}\n     */\n    getCursor: () => {\n      const searchDefinition = dict.get('searchDefinition') || '',\n        options = dict.get('searchOptions'),\n        showDocuments = dict.get('showDocuments');\n\n      check(options, Match.Optional(Object));\n\n      if (false === showDocuments) {\n        dict.set('count', 0);\n        dict.set('searching', false);\n        dict.set('limit', 0);\n        dict.set('skip', 0);\n        dict.set('currentCount', 0);\n        dict.set('stopPublication', false);\n\n        return EasySearch.Cursor.emptyCursor;\n      }\n\n      const cursor = index.search(searchDefinition, options),\n        searchOptions = index._getSearchOptions(options);\n\n      dict.set('count', cursor.count());\n      dict.set('searching', !cursor.isReady());\n      dict.set('limit', searchOptions.limit);\n      dict.set('skip', searchOptions.skip);\n      dict.set('currentCount', cursor.mongoCursor.count());\n      dict.set('stopPublication', false);\n\n      return cursor;\n    },\n    /**\n     * Return true if the current search string is empty.\n     *\n     * @returns {boolean}\n     */\n    searchIsEmpty: () => {\n      let searchDefinition = dict.get('searchDefinition');\n\n      return !searchDefinition || (_.isString(searchDefinition) && 0 === searchDefinition.trim().length);\n    },\n    /**\n     * Return true if the component has no results.\n     *\n     * @returns {boolean}\n     */\n    hasNoResults: () => {\n      let count = dict.get('count'),\n        showDocuments = dict.get('showDocuments');\n\n      return false !== showDocuments\n        && !dict.get('searching')\n        && (!_.isNumber(count) || 0 === count);\n    },\n    /**\n     * Return true if the component is being searched.\n     *\n     * @returns {boolean}\n     */\n    isSearching: () => {\n      return !!dict.get('searching');\n    },\n    /**\n     * Return true if the component has more documents than displayed right now.\n     *\n     * @returns {boolean}\n     */\n    hasMoreDocuments: () => {\n      return dict.get('currentCount') < dict.get('count');\n    },\n    /**\n     * Load more documents for the component.\n     *\n     * @param {Number} count Count of docs\n     */\n    loadMore: (count) => {\n      check(count, Number);\n\n      let currentCount = dict.get('currentCount'),\n        options = dict.get('searchOptions') || {};\n\n      options.limit = currentCount + count;\n      dict.set('searchOptions', options);\n    },\n    /**\n     * Paginate through documents for the given page.\n     *\n     * @param {Number} page Page number\n     */\n    paginate: (page) => {\n      check(page, Number);\n\n      let options = dict.get('searchOptions') || {},\n        limit = dict.get('limit');\n\n      options.skip = limit * (page - 1);\n      dict.set('searchOptions', options);\n      dict.set('stopPublication', true);\n    },\n    /**\n     * Add custom properties for search.\n     */\n    addProps: (...args) => {\n      let options = dict.get('searchOptions') || {};\n\n      options.props = options.props || {};\n\n      if (_.isObject(args[0])) {\n        options.props = _.extend(options.props, args[0]);\n      } else if (_.isString(args[0])) {\n        options.props[args[0]] = args[1];\n      }\n\n      dict.set('searchOptions', options);\n    },\n    /**\n     * Remove custom properties for search.\n     */\n    removeProps: (...args) => {\n      let options = dict.get('searchOptions') || {};\n\n      if (!_.isEmpty(args)) {\n        options.props = _.omit(options.props, args) || {};\n      } else {\n        options.props = {};\n      }\n\n      dict.set('searchOptions', options);\n    }\n  };\n};\n","/**\n * Extend EasySearch.Index with component functionality.\n *\n * @type {Index}\n */\nEasySearch.Index = class Index extends EasySearch.Index {\n  /**\n   * Constructor.\n   */\n  constructor() {\n    super(...arguments);\n    this.components = {};\n  }\n\n  /**\n   * Return static default name for components.\n   *\n   * @returns {String}\n   */\n  static get COMPONENT_DEFAULT_NAME() {\n    return'__default';\n  }\n\n  /**\n   * Register a component on the index.\n   *\n   * @param {String} componentName Optional name of the component\n   */\n  registerComponent(componentName = EasySearch.Index.COMPONENT_DEFAULT_NAME) {\n    this.components[componentName] = new ReactiveDict(`easySearchComponent_${this.config.name}_${componentName}_${Random.id()}`);\n  }\n\n  /**\n   * Get the reactive dictionary for a component.\n   *\n   * @param {String} componentName Optional name of the component\n   */\n  getComponentDict(componentName = EasySearch.Index.COMPONENT_DEFAULT_NAME) {\n    return this.components[componentName];\n  }\n\n  /**\n   * Get component methods that are useful for implementing search behaviour.\n   *\n   * @param componentName\n   */\n  getComponentMethods(componentName = EasySearch.Index.COMPONENT_DEFAULT_NAME) {\n    let dict = this.getComponentDict(componentName);\n\n    if (!dict) {\n      throw new Meteor.Error('no-component', `Component with name '${componentName}' not found`);\n    }\n\n    return EasySearch._getComponentMethods(dict, this);\n  }\n};\n\n/**\n * Return true if the current page is valid.\n *\n * @param {Number} totalPagesLength Count of all pages available\n * @param {Number} currentPage      Current page to check\n *\n * @returns {boolean}\n */\nfunction isValidPage(totalPagesLength, currentPage) {\n  return currentPage <= totalPagesLength && currentPage > 0;\n}\n\n/**\n * Helper method to get the pages for pagination as an array.\n *\n * @param totalCount   Total count of results\n * @param pageCount    Count of results per page\n * @param currentPage  Current page\n * @param prevAndNext  True if Next and Previous buttons should appear\n * @param maxPages     Maximum count of pages to show\n *\n * @private\n *\n * @returns {Array}\n */\nEasySearch._getPagesForPagination = function ({totalCount, pageCount, currentPage, prevAndNext, maxPages}) {\n  let pages = _.range(1, Math.ceil(totalCount / pageCount) + 1),\n    pagesLength = pages.length;\n\n  if (!isValidPage(pagesLength, currentPage)) {\n    throw new Meteor.Error('invalid-page', 'Current page is not in valid range');\n  }\n\n  if (maxPages) {\n    let startSlice = (currentPage > (maxPages / 2) ? (currentPage - 1) - Math.floor(maxPages / 2) : 0),\n      endSlice = startSlice + maxPages;\n\n    if (endSlice > pagesLength) {\n      pages = pages.slice(-maxPages);\n    } else {\n      pages = pages.slice(startSlice, startSlice + maxPages);\n    }\n  }\n\n  let pageData = _.map(pages, function (page) {\n    let isCurrentPage = page === currentPage;\n    return { page, content: page.toString(), current: isCurrentPage, disabled: isCurrentPage };\n  });\n\n  if (prevAndNext) {\n    // Previous\n    let prevPage = isValidPage(pagesLength, currentPage - 1) ? currentPage - 1 : null;\n    pageData.unshift({ page: prevPage, content: 'Prev', current: false, disabled: 1 === currentPage });\n    // Next\n    let nextPage = isValidPage(pagesLength, currentPage + 1) ? currentPage + 1 : null;\n    pageData.push(\n      { page: nextPage, content: 'Next', current: false, disabled: null == nextPage || pagesLength + 1 === currentPage }\n    );\n  }\n\n  return pageData;\n};\n","\nTemplate.__checkName(\"EasySearch.Input\");\nTemplate[\"EasySearch.Input\"] = new Template(\"Template.EasySearch.Input\", (function() {\n  var view = this;\n  return HTML.INPUT(HTML.Attrs(function() {\n    return Spacebars.attrMustache(view.lookup(\"inputAttributes\"));\n  }));\n}));\n","/**\n * The InputComponent lets you search through configured indexes.\n *\n * @type {InputComponent}\n */\nEasySearch.InputComponent = class InputComponent extends BaseComponent {\n  /**\n   * Setup input onCreated.\n   */\n  onCreated() {\n    super.onCreated(...arguments);\n\n    this.search(this.inputAttributes().value);\n\n    // create a reactive dependency to the cursor\n    this.debouncedSearch = _.debounce((searchString) => {\n      searchString = searchString.trim();\n\n      if (this.searchString !== searchString) {\n        this.searchString = searchString;\n\n        this.eachIndex((index, name) => {\n          index.getComponentDict(name).set('currentPage', 1);\n        });\n\n        this.search(searchString);\n      }\n\n    }, this.options.timeout);\n  }\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n  events() {\n    return [{\n      'keyup input' : function (e) {\n        if ('enter' == this.getData().event && e.keyCode != 13) {\n          return;\n        }\n\n        this.debouncedSearch($(e.target).val());\n      }\n    }];\n  }\n\n  /**\n   * Return the attributes to set on the input (class, id).\n   *\n   * @returns {Object}\n   */\n  inputAttributes() {\n    return _.defaults({}, this.getData().attributes, InputComponent.defaultAttributes);\n  }\n\n  /**\n   * Return the default attributes.\n   *\n   * @returns {Object}\n   */\n  static get defaultAttributes() {\n    return {\n      type: 'text',\n      value: ''\n    };\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions() {\n    return {\n      timeout: 50\n    };\n  }\n};\n\nEasySearch.InputComponent.register('EasySearch.Input');\n","\nTemplate.__checkName(\"EasySearch.FieldInput\");\nTemplate[\"EasySearch.FieldInput\"] = new Template(\"Template.EasySearch.FieldInput\", (function() {\n  var view = this;\n  return HTML.INPUT(HTML.Attrs(function() {\n    return Spacebars.attrMustache(view.lookup(\"inputAttributes\"));\n  }));\n}));\n","/**\n * The FieldInputComponent lets you search through configured indexes for a specified fild.\n *\n * @type {FieldInputComponent}\n */\nEasySearch.FieldInputComponent = class FieldInputComponent extends EasySearch.InputComponent {\n  /**\n   * Setup component on created.\n   */\n  onCreated() {\n    super.onCreated();\n\n    if (_.isEmpty(this.getData().field)) {\n      throw new Meteor.Error('no-field', 'Please provide a field for your field input component');\n    }\n  }\n\n  /**\n   * Search the component.\n   *\n   * @param {String} searchString String to search for\n   */\n  search(searchString) {\n    check(searchString, String);\n\n    this.eachIndex((index, name) => {\n      let searchDefinition = index.getComponentDict(name).get('searchDefinition') || {};\n\n      if (_.isString(searchDefinition)) {\n        throw new Meteor.Error('You can either EasySearch.FieldInput or EasySearch.Input');\n      }\n\n      if (this.options.field) {\n        searchDefinition[this.options.field] = searchString;\n        index.getComponentMethods(name).search(searchDefinition);\n      }\n    });\n  }\n};\n\nEasySearch.FieldInputComponent.register('EasySearch.FieldInput');\n","\nTemplate.__checkName(\"EasySearch.Each\");\nTemplate[\"EasySearch.Each\"] = new Template(\"Template.EasySearch.Each\", (function() {\n  var view = this;\n  return Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"doc\"));\n  }, function() {\n    return [ \"\\n      \", Blaze._InOuterTemplateScope(view, function() {\n      return Blaze._TemplateWith(function() {\n        return Spacebars.call(view.lookup(\".\"));\n      }, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(view.templateContentBlock);\n        });\n      });\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The EachComponent allows to loop through the search results found.\n *\n * @type {EachComponent}\n */\nEasySearch.EachComponent = class EachComponent extends SingleIndexComponent {\n  /**\n   * Return the mongo cursor for the search.\n   *\n   * @returns {Mongo.Cursor}\n   */\n  doc() {\n    const stopPublication = this.index\n      .getComponentDict(this.name)\n      .get('stopPublication')\n    ;\n\n    this.cursor && stopPublication && this.cursor.stop();\n\n    this.cursor = this.index\n        .getComponentMethods(this.name)\n        .getCursor()\n    ;\n\n    return this.cursor.mongoCursor;\n  }\n};\n\nEasySearch.EachComponent.register('EasySearch.Each');\n","\nTemplate.__checkName(\"EasySearch.IfInputEmpty\");\nTemplate[\"EasySearch.IfInputEmpty\"] = new Template(\"Template.EasySearch.IfInputEmpty\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"inputEmpty\"));\n  }, function() {\n    return [ \"\\n        \", Blaze._InOuterTemplateScope(view, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(view.templateContentBlock);\n      });\n    }), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.templateElseBlock);\n    }, function() {\n      return [ \"\\n            \", Blaze._InOuterTemplateScope(view, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(view.templateElseBlock);\n        });\n      }), \"\\n        \" ];\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The IfInputEmptyComponent lets you display content when the input is empty.\n *\n * @type {IfInputEmptyComponent}\n */\nEasySearch.IfInputEmptyComponent = class IfInputEmptyComponent extends BaseComponent {\n  /**\n   * Return true if the input is empty.\n   *\n   * @returns {boolean}\n   */\n  inputEmpty() {\n    return !!this.eachIndex(function (index, name) {\n      return index.getComponentMethods(name).searchIsEmpty();\n    }, 'every');\n  }\n};\n\nEasySearch.IfInputEmptyComponent.register('EasySearch.IfInputEmpty');\n","\nTemplate.__checkName(\"EasySearch.IfNoResults\");\nTemplate[\"EasySearch.IfNoResults\"] = new Template(\"Template.EasySearch.IfNoResults\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"noResults\"));\n  }, function() {\n    return [ \"\\n        \", Blaze._InOuterTemplateScope(view, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(view.templateContentBlock);\n      });\n    }), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.templateElseBlock);\n    }, function() {\n      return [ \"\\n            \", Blaze._InOuterTemplateScope(view, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(view.templateElseBlock);\n        });\n      }), \"\\n        \" ];\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The IfNoResultsComponent lets you display content when there are no results.\n *\n * @type {IfNoResultsComponent}\n */\nEasySearch.IfNoResultsComponent = class IfNoResultsComponent extends BaseComponent {\n  /**\n   * Return true if there are no results.\n   *\n   * @returns {boolean}\n   */\n  noResults() {\n    return !!this.eachIndex(function (index, name) {\n      return index.getComponentMethods(name).hasNoResults();\n    }, 'every');\n  }\n};\n\nEasySearch.IfNoResultsComponent.register('EasySearch.IfNoResults');\n","\nTemplate.__checkName(\"EasySearch.IfSearching\");\nTemplate[\"EasySearch.IfSearching\"] = new Template(\"Template.EasySearch.IfSearching\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"searching\"));\n  }, function() {\n    return [ \"\\n        \", Blaze._InOuterTemplateScope(view, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(view.templateContentBlock);\n      });\n    }), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.templateElseBlock);\n    }, function() {\n      return [ \"\\n            \", Blaze._InOuterTemplateScope(view, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(view.templateElseBlock);\n        });\n      }), \"\\n        \" ];\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The IfSearchingComponent lets you display content when the component is being searched.\n *\n * @type {IfSearchingComponent}\n */\nEasySearch.IfSearchingComponent = class IfSearchingComponent extends BaseComponent {\n  /**\n   * Return true if the component is being searched.\n   *\n   * @returns {boolean}\n   */\n  searching() {\n    return !!this.eachIndex(function (index, name) {\n      return index.getComponentMethods(name).isSearching();\n    }, 'every');\n  }\n};\n\nEasySearch.IfSearchingComponent.register('EasySearch.IfSearching');\n","\nTemplate.__checkName(\"EasySearch.LoadMore\");\nTemplate[\"EasySearch.LoadMore\"] = new Template(\"Template.EasySearch.LoadMore\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"moreDocuments\"));\n  }, function() {\n    return [ \"\\n        \", HTML.BUTTON(HTML.Attrs(function() {\n      return Spacebars.attrMustache(view.lookup(\"attributes\"));\n    }), Blaze.View(\"lookup:content\", function() {\n      return Spacebars.mustache(view.lookup(\"content\"));\n    })), \"\\n    \" ];\n  });\n}));\n","/**\n * The LoadMoreComponent lets you load more documents through a button.\n *\n * @type {LoadMoreComponent}\n */\nEasySearch.LoadMoreComponent = class LoadMoreComponent extends SingleIndexComponent {\n  /**\n   * Load more documents.\n   */\n  loadMore() {\n    this.index\n      .getComponentMethods(this.name)\n      .loadMore(this.options.count)\n    ;\n  }\n\n  /**\n   * Content of the component.\n   *\n   * @returns string\n   */\n  content() {\n    return this.options.content;\n  }\n\n  /**\n   * Attributes of the component.\n   *\n   * @returns string\n   */\n  attributes() {\n    return this.getData().attributes || {};\n  }\n\n  /**\n   * Return true if there are more documents to load.\n   *\n   * @returns {Boolean}\n   */\n  moreDocuments() {\n    return this.index.getComponentMethods(this.name).hasMoreDocuments();\n  }\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n  events() {\n    return [{\n      'click button' : function () {\n        this.loadMore();\n      }\n    }];\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions() {\n    return {\n      content: 'Load more',\n      count: 10\n    };\n  }\n};\n\nEasySearch.LoadMoreComponent.register('EasySearch.LoadMore');\n","\nTemplate.__checkName(\"EasySearch.Pagination\");\nTemplate[\"EasySearch.Pagination\"] = new Template(\"Template.EasySearch.Pagination\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"moreDocuments\"));\n  }, function() {\n    return [ \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"customRenderPagination\"));\n    }, function() {\n      return [ \"\\n            \", Blaze._TemplateWith(function() {\n        return {\n          template: Spacebars.call(view.lookup(\"customRenderPagination\"))\n        };\n      }, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(Template.__dynamic);\n        });\n      }), \"\\n        \" ];\n    }, function() {\n      return [ \"\\n            \", HTML.UL({\n        \"class\": \"pagination\"\n      }, \"\\n                \", Blaze.Each(function() {\n        return Spacebars.call(view.lookup(\"page\"));\n      }, function() {\n        return [ \"\\n                    \", HTML.LI({\n          \"class\": function() {\n            return [ \"page \", Spacebars.mustache(view.lookup(\"pageClasses\"), view.lookup(\".\")) ];\n          }\n        }, \"\\n                        \", Blaze.View(\"lookup:content\", function() {\n          return Spacebars.mustache(view.lookup(\"content\"));\n        }), \"\\n                    \"), \"\\n                \" ];\n      }), \"\\n            \"), \"\\n        \" ];\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The PaginationComponent lets you paginate through documents.\n *\n * @type {PaginationComponent}\n */\nEasySearch.PaginationComponent = class PaginationComponent extends SingleIndexComponent {\n  /**\n   * Setup component on created.\n   */\n  onCreated() {\n    super.onCreated();\n    this.dict.set('currentPage', 1);\n  }\n\n  /**\n   * Get pages for displaying the pagination.\n   *\n   * @returns {Array}\n   */\n  page() {\n    let totalCount = this.dict.get('count'),\n      pageCount = this.dict.get('limit'),\n      currentPage = this.dict.get('currentPage'),\n      maxPages = this.options.maxPages,\n      prevAndNext = this.options.prevAndNext;\n\n    if (!pageCount || !totalCount) {\n      return [];\n    }\n\n    return this.options.transformPages(\n      EasySearch._getPagesForPagination({ totalCount, pageCount, currentPage, maxPages, prevAndNext })\n    );\n  }\n\n  customRenderPagination() {\n    return this.getData().customRenderPagination;\n  }\n\n  /**\n   * Paginate documents.\n   */\n  paginate(page) {\n    check(page, Number);\n\n    this.index.getComponentMethods(this.name).paginate(page);\n  }\n\n  /**\n   * Return page classes.\n   *\n   * @param {Object} data Data for the current page\n   *\n   * @returns {String}\n   */\n  pageClasses(data) {\n    return `${(data.disabled ? 'disabled' : '' )} ${(data.current ? 'current' : '' )}`.trim();\n  }\n\n  /**\n   * Return true if there are more documents to load.\n   *\n   * @returns {Boolean}\n   */\n  moreDocuments() {\n    return this.index.getComponentMethods(this.name).hasMoreDocuments();\n  }\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n  events() {\n    return [{\n      'click .page:not(.disabled)' : function (e) {\n        let currentPage = this.currentData().page;\n        this.dict.set('currentPage', currentPage);\n        this.paginate(currentPage);\n\n        e.preventDefault();\n      }\n    }];\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions() {\n    return {\n      prevAndNext: true,\n      maxPages: null,\n      transformPages: (pages) => pages\n    };\n  }\n};\n\nEasySearch.PaginationComponent.register('EasySearch.Pagination');\n"]}