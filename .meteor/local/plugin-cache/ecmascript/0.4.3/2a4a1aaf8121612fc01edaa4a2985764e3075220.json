{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/easysearch:components/lib/input/input.js","filenameRelative":"/packages/easysearch:components/lib/input/input.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/easysearch:components/lib/input/input.js.map","sourceFileName":"/packages/easysearch:components/lib/input/input.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"input"},"ignored":false,"code":"var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * The InputComponent lets you search through configured indexes.\n *\n * @type {InputComponent}\n */\nEasySearch.InputComponent = function (_BaseComponent) {\n  (0, _inherits3['default'])(InputComponent, _BaseComponent);\n\n  function InputComponent() {\n    (0, _classCallCheck3['default'])(this, InputComponent);\n    return (0, _possibleConstructorReturn3['default'])(this, _BaseComponent.apply(this, arguments));\n  }\n\n  /**\n   * Setup input onCreated.\n   */\n\n  InputComponent.prototype.onCreated = function () {\n    function onCreated() {\n      var _BaseComponent$protot,\n          _this2 = this;\n\n      (_BaseComponent$protot = _BaseComponent.prototype.onCreated).call.apply(_BaseComponent$protot, [this].concat(Array.prototype.slice.call(arguments)));\n\n      this.search(this.inputAttributes().value);\n\n      // create a reactive dependency to the cursor\n      this.debouncedSearch = _.debounce(function (searchString) {\n        searchString = searchString.trim();\n\n        if (_this2.searchString !== searchString) {\n          _this2.searchString = searchString;\n\n          _this2.eachIndex(function (index, name) {\n            index.getComponentDict(name).set('currentPage', 1);\n          });\n\n          _this2.search(searchString);\n        }\n      }, this.options.timeout);\n    }\n\n    return onCreated;\n  }();\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n\n\n  InputComponent.prototype.events = function () {\n    function events() {\n      return [{\n        'keyup input': function () {\n          function keyupInput(e) {\n            if ('enter' == this.getData().event && e.keyCode != 13) {\n              return;\n            }\n\n            this.debouncedSearch($(e.target).val());\n          }\n\n          return keyupInput;\n        }()\n      }];\n    }\n\n    return events;\n  }();\n\n  /**\n   * Return the attributes to set on the input (class, id).\n   *\n   * @returns {Object}\n   */\n\n\n  InputComponent.prototype.inputAttributes = function () {\n    function inputAttributes() {\n      return _.defaults({}, this.getData().attributes, InputComponent.defaultAttributes);\n    }\n\n    return inputAttributes;\n  }();\n\n  /**\n   * Return the default attributes.\n   *\n   * @returns {Object}\n   */\n\n\n  (0, _createClass3['default'])(InputComponent, [{\n    key: 'defaultOptions',\n\n\n    /**\n     * Return the default options.\n     *\n     * @returns {Object}\n     */\n    get: function () {\n      function get() {\n        return {\n          timeout: 50\n        };\n      }\n\n      return get;\n    }()\n  }], [{\n    key: 'defaultAttributes',\n    get: function () {\n      function get() {\n        return {\n          type: 'text',\n          value: ''\n        };\n      }\n\n      return get;\n    }()\n  }]);\n  return InputComponent;\n}(BaseComponent);\n\nEasySearch.InputComponent.register('EasySearch.Input');","ast":null,"map":{"version":3,"sources":["/packages/easysearch:components/lib/input/input.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAKA,WAAW,cAAX;6BAAkC;;;;;;;;;;;2BAIhC;yBAAY;;;;AACV,wDAAM,eAAN,uEAAmB,WAAnB,EADU;;AAGV,WAAK,MAAL,CAAY,KAAK,eAAL,GAAuB,KAAvB,CAAZ;;;AAHU,UAMV,CAAK,eAAL,GAAuB,EAAE,QAAF,CAAW,UAAC,YAAD,EAAkB;AAClD,uBAAe,aAAa,IAAb,EAAf,CADkD;;AAGlD,YAAI,OAAK,YAAL,KAAsB,YAAtB,EAAoC;AACtC,iBAAK,YAAL,GAAoB,YAApB,CADsC;;AAGtC,iBAAK,SAAL,CAAe,UAAC,KAAD,EAAQ,IAAR,EAAiB;AAC9B,kBAAM,gBAAN,CAAuB,IAAvB,EAA6B,GAA7B,CAAiC,aAAjC,EAAgD,CAAhD,EAD8B;WAAjB,CAAf,CAHsC;;AAOtC,iBAAK,MAAL,CAAY,YAAZ,EAPsC;SAAxC;OAHgC,EAa/B,KAAK,OAAL,CAAa,OAAb,CAbH,CANU;;;;;;;;;;;;;AAJoB,2BA+BhC;sBAAS;AACP,aAAO,CAAC;AACN;AAAgB,8BAAU,CAAV,EAAa;AAC3B,gBAAI,WAAW,KAAK,OAAL,GAAe,KAAf,IAAwB,EAAE,OAAF,IAAa,EAAb,EAAiB;AACtD,qBADsD;aAAxD;;AAIA,iBAAK,eAAL,CAAqB,EAAE,EAAE,MAAF,CAAF,CAAY,GAAZ,EAArB,EAL2B;WAAb;;;WAAhB;OADK,CAAP,CADO;;;;;;;;;;;;;AA/BuB,2BAgDhC;+BAAkB;AAChB,aAAO,EAAE,QAAF,CAAW,EAAX,EAAe,KAAK,OAAL,GAAe,UAAf,EAA2B,eAAe,iBAAf,CAAjD,CADgB;;;;;;;;;;;;;gCAhDc;;;;;;;;;;qBAqEX;AACnB,eAAO;AACL,mBAAS,EAAT;SADF,CADmB;;;;;;;;qBAZU;AAC7B,eAAO;AACL,gBAAM,MAAN;AACA,iBAAO,EAAP;SAFF,CAD6B;;;;;;SAzDC;EAAuB,cAAzD;;AA4EA,WAAW,cAAX,CAA0B,QAA1B,CAAmC,kBAAnC","file":"/packages/easysearch:components/lib/input/input.js.map","sourcesContent":["/**\n * The InputComponent lets you search through configured indexes.\n *\n * @type {InputComponent}\n */\nEasySearch.InputComponent = class InputComponent extends BaseComponent {\n  /**\n   * Setup input onCreated.\n   */\n  onCreated() {\n    super.onCreated(...arguments);\n\n    this.search(this.inputAttributes().value);\n\n    // create a reactive dependency to the cursor\n    this.debouncedSearch = _.debounce((searchString) => {\n      searchString = searchString.trim();\n\n      if (this.searchString !== searchString) {\n        this.searchString = searchString;\n\n        this.eachIndex((index, name) => {\n          index.getComponentDict(name).set('currentPage', 1);\n        });\n\n        this.search(searchString);\n      }\n\n    }, this.options.timeout);\n  }\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n  events() {\n    return [{\n      'keyup input' : function (e) {\n        if ('enter' == this.getData().event && e.keyCode != 13) {\n          return;\n        }\n\n        this.debouncedSearch($(e.target).val());\n      }\n    }];\n  }\n\n  /**\n   * Return the attributes to set on the input (class, id).\n   *\n   * @returns {Object}\n   */\n  inputAttributes() {\n    return _.defaults({}, this.getData().attributes, InputComponent.defaultAttributes);\n  }\n\n  /**\n   * Return the default attributes.\n   *\n   * @returns {Object}\n   */\n  static get defaultAttributes() {\n    return {\n      type: 'text',\n      value: ''\n    };\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions() {\n    return {\n      timeout: 50\n    };\n  }\n};\n\nEasySearch.InputComponent.register('EasySearch.Input');\n"]},"hash":"2a4a1aaf8121612fc01edaa4a2985764e3075220"}
