{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/server/slingshot.js","filenameRelative":"/server/slingshot.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/server/slingshot.js.map","sourceFileName":"/server/slingshot.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"slingshot"},"ignored":false,"code":"Slingshot.fileRestrictions(\"uploadToAmazonS3\", {\n  allowedFileTypes: [\"image/png\", \"image/jpeg\", \"image/gif\"],\n  maxSize: 1 * 1024 * 1024\n});\n\nSlingshot.createDirective(\"uploadToAmazonS3\", Slingshot.S3Storage, {\n  bucket: \"empanist-images\",\n  acl: \"public-read\",\n  authorize: function authorize() {\n    var userFileCount = Images.find({ \"userId\": this.userId }).count();\n    return userFileCount < 3 ? true : false;\n  },\n  key: function key(file) {\n    var user = Meteor.users.findOne(this.userId);\n    return user.emails[0].address + \"/\" + file.name;\n  }\n});","ast":null,"map":{"version":3,"sources":["/server/slingshot.js"],"names":[],"mappings":"AAAA,UAAU,gBAAV,CAA4B,kBAA5B,EAAgD;AAC9C,oBAAkB,CAAE,WAAF,EAAe,YAAf,EAA6B,WAA7B,CAD4B;AAE9C,WAAS,IAAI,IAAJ,GAAW;AAF0B,CAAhD;;AAKA,UAAU,eAAV,CAA2B,kBAA3B,EAA+C,UAAU,SAAzD,EAAoE;AAClE,UAAQ,iBAD0D;AAElE,OAAK,aAF6D;AAGlE,aAAW,qBAAY;AACrB,QAAI,gBAAgB,OAAO,IAAP,CAAa,EAAE,UAAU,KAAK,MAAjB,EAAb,EAAyC,KAAzC,EAApB;AACA,WAAO,gBAAgB,CAAhB,GAAoB,IAApB,GAA2B,KAAlC;AACD,GANiE;AAOlE,OAAK,aAAW,IAAX,EAAkB;AACrB,QAAI,OAAO,OAAO,KAAP,CAAa,OAAb,CAAsB,KAAK,MAA3B,CAAX;AACA,WAAO,KAAK,MAAL,CAAY,CAAZ,EAAe,OAAf,GAAyB,GAAzB,GAA+B,KAAK,IAA3C;AACD;AAViE,CAApE","file":"/server/slingshot.js.map","sourcesContent":["Slingshot.fileRestrictions( \"uploadToAmazonS3\", {\n  allowedFileTypes: [ \"image/png\", \"image/jpeg\", \"image/gif\" ],\n  maxSize: 1 * 1024 * 1024\n});\n\nSlingshot.createDirective( \"uploadToAmazonS3\", Slingshot.S3Storage, {\n  bucket: \"empanist-images\",\n  acl: \"public-read\",\n  authorize: function () {\n    let userFileCount = Images.find( { \"userId\": this.userId } ).count();\n    return userFileCount < 3 ? true : false;\n  },\n  key: function ( file ) {\n    var user = Meteor.users.findOne( this.userId );\n    return user.emails[0].address + \"/\" + file.name;\n  }\n});\n"]},"hash":"b481a99f03197638051d799c57abf2f1760421aa"}
