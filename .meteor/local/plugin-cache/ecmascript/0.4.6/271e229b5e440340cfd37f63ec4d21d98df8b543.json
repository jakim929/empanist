{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/packages/easysearch:components/lib/pagination/pagination.js","filenameRelative":"/packages/easysearch:components/lib/pagination/pagination.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/packages/easysearch:components/lib/pagination/pagination.js.map","sourceFileName":"/packages/easysearch:components/lib/pagination/pagination.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"pagination"},"ignored":false,"code":"var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * The PaginationComponent lets you paginate through documents.\n *\n * @type {PaginationComponent}\n */\nEasySearch.PaginationComponent = function (_SingleIndexComponent) {\n  (0, _inherits3['default'])(PaginationComponent, _SingleIndexComponent);\n\n  function PaginationComponent() {\n    (0, _classCallCheck3['default'])(this, PaginationComponent);\n    return (0, _possibleConstructorReturn3['default'])(this, _SingleIndexComponent.apply(this, arguments));\n  }\n\n  /**\n   * Setup component on created.\n   */\n\n  PaginationComponent.prototype.onCreated = function () {\n    function onCreated() {\n      _SingleIndexComponent.prototype.onCreated.call(this);\n      this.dict.set('currentPage', 1);\n    }\n\n    return onCreated;\n  }();\n\n  /**\n   * Get pages for displaying the pagination.\n   *\n   * @returns {Array}\n   */\n\n\n  PaginationComponent.prototype.page = function () {\n    function page() {\n      var totalCount = this.dict.get('count'),\n          pageCount = this.dict.get('limit'),\n          currentPage = this.dict.get('currentPage'),\n          maxPages = this.options.maxPages,\n          prevAndNext = this.options.prevAndNext;\n\n      if (!pageCount || !totalCount) {\n        return [];\n      }\n\n      return this.options.transformPages(EasySearch._getPagesForPagination({ totalCount: totalCount, pageCount: pageCount, currentPage: currentPage, maxPages: maxPages, prevAndNext: prevAndNext }));\n    }\n\n    return page;\n  }();\n\n  PaginationComponent.prototype.customRenderPagination = function () {\n    function customRenderPagination() {\n      return this.getData().customRenderPagination;\n    }\n\n    return customRenderPagination;\n  }();\n\n  /**\n   * Paginate documents.\n   */\n\n\n  PaginationComponent.prototype.paginate = function () {\n    function paginate(page) {\n      check(page, Number);\n\n      this.index.getComponentMethods(this.name).paginate(page);\n    }\n\n    return paginate;\n  }();\n\n  /**\n   * Return page classes.\n   *\n   * @param {Object} data Data for the current page\n   *\n   * @returns {String}\n   */\n\n\n  PaginationComponent.prototype.pageClasses = function () {\n    function pageClasses(data) {\n      return ((data.disabled ? 'disabled' : '') + ' ' + (data.current ? 'current' : '')).trim();\n    }\n\n    return pageClasses;\n  }();\n\n  /**\n   * Return true if there are more documents to load.\n   *\n   * @returns {Boolean}\n   */\n\n\n  PaginationComponent.prototype.moreDocuments = function () {\n    function moreDocuments() {\n      return this.index.getComponentMethods(this.name).hasMoreDocuments();\n    }\n\n    return moreDocuments;\n  }();\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n\n\n  PaginationComponent.prototype.events = function () {\n    function events() {\n      return [{\n        'click .page:not(.disabled)': function () {\n          function clickPageNotDisabled(e) {\n            var currentPage = this.currentData().page;\n            this.dict.set('currentPage', currentPage);\n            this.paginate(currentPage);\n\n            e.preventDefault();\n          }\n\n          return clickPageNotDisabled;\n        }()\n      }];\n    }\n\n    return events;\n  }();\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n\n\n  (0, _createClass3['default'])(PaginationComponent, [{\n    key: 'defaultOptions',\n    get: function () {\n      function get() {\n        return {\n          prevAndNext: true,\n          maxPages: null,\n          transformPages: function () {\n            function transformPages(pages) {\n              return pages;\n            }\n\n            return transformPages;\n          }()\n        };\n      }\n\n      return get;\n    }()\n  }]);\n  return PaginationComponent;\n}(SingleIndexComponent);\n\nEasySearch.PaginationComponent.register('EasySearch.Pagination');","ast":null,"map":{"version":3,"sources":["/packages/easysearch:components/lib/pagination/pagination.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAKA,WAAW,mBAAX;AAAA;;AAAA;AAAA;AAAA;AAAA;;;;;;AAAA,gCAIE,SAJF;AAAA,yBAIc;AACV,sCAAM,SAAN;AACA,WAAK,IAAL,CAAU,GAAV,CAAc,aAAd,EAA6B,CAA7B;AACD;;AAPH;AAAA;;;;;;;;;AAAA,gCAcE,IAdF;AAAA,oBAcS;AACL,UAAI,aAAa,KAAK,IAAL,CAAU,GAAV,CAAc,OAAd,CAAjB;AAAA,UACE,YAAY,KAAK,IAAL,CAAU,GAAV,CAAc,OAAd,CADd;AAAA,UAEE,cAAc,KAAK,IAAL,CAAU,GAAV,CAAc,aAAd,CAFhB;AAAA,UAGE,WAAW,KAAK,OAAL,CAAa,QAH1B;AAAA,UAIE,cAAc,KAAK,OAAL,CAAa,WAJ7B;;AAMA,UAAI,CAAC,SAAD,IAAc,CAAC,UAAnB,EAA+B;AAC7B,eAAO,EAAP;AACD;;AAED,aAAO,KAAK,OAAL,CAAa,cAAb,CACL,WAAW,sBAAX,CAAkC,EAAE,sBAAF,EAAc,oBAAd,EAAyB,wBAAzB,EAAsC,kBAAtC,EAAgD,wBAAhD,EAAlC,CADK,CAAP;AAGD;;AA5BH;AAAA;;AAAA,gCA8BE,sBA9BF;AAAA,sCA8B2B;AACvB,aAAO,KAAK,OAAL,GAAe,sBAAtB;AACD;;AAhCH;AAAA;;;;;;;AAAA,gCAqCE,QArCF;AAAA,sBAqCW,IArCX,EAqCiB;AACb,YAAM,IAAN,EAAY,MAAZ;;AAEA,WAAK,KAAL,CAAW,mBAAX,CAA+B,KAAK,IAApC,EAA0C,QAA1C,CAAmD,IAAnD;AACD;;AAzCH;AAAA;;;;;;;;;;;AAAA,gCAkDE,WAlDF;AAAA,yBAkDc,IAlDd,EAkDoB;AAChB,aAAO,EAAI,KAAK,QAAL,GAAgB,UAAhB,GAA6B,EAAjC,WAA0C,KAAK,OAAL,GAAe,SAAf,GAA2B,EAArE,GAA4E,IAA5E,EAAP;AACD;;AApDH;AAAA;;;;;;;;;AAAA,gCA2DE,aA3DF;AAAA,6BA2DkB;AACd,aAAO,KAAK,KAAL,CAAW,mBAAX,CAA+B,KAAK,IAApC,EAA0C,gBAA1C,EAAP;AACD;;AA7DH;AAAA;;;;;;;;;AAAA,gCAoEE,MApEF;AAAA,sBAoEW;AACP,aAAO,CAAC;AACN;AAA+B,wCAAU,CAAV,EAAa;AAC1C,gBAAI,cAAc,KAAK,WAAL,GAAmB,IAArC;AACA,iBAAK,IAAL,CAAU,GAAV,CAAc,aAAd,EAA6B,WAA7B;AACA,iBAAK,QAAL,CAAc,WAAd;;AAEA,cAAE,cAAF;AACD;;AAND;AAAA;AADM,OAAD,CAAP;AASD;;AA9EH;AAAA;;;;;;;;;AAAA;AAAA;AAAA;AAAA,qBAqFuB;AACnB,eAAO;AACL,uBAAa,IADR;AAEL,oBAAU,IAFL;AAGL;AAAgB,oCAAC,KAAD;AAAA,qBAAW,KAAX;AAAA;;AAAhB;AAAA;AAHK,SAAP;AAKD;;AA3FH;AAAA;AAAA;AAAA;AAAA,EAAmE,oBAAnE;;AA8FA,WAAW,mBAAX,CAA+B,QAA/B,CAAwC,uBAAxC","file":"/packages/easysearch:components/lib/pagination/pagination.js.map","sourcesContent":["/**\n * The PaginationComponent lets you paginate through documents.\n *\n * @type {PaginationComponent}\n */\nEasySearch.PaginationComponent = class PaginationComponent extends SingleIndexComponent {\n  /**\n   * Setup component on created.\n   */\n  onCreated() {\n    super.onCreated();\n    this.dict.set('currentPage', 1);\n  }\n\n  /**\n   * Get pages for displaying the pagination.\n   *\n   * @returns {Array}\n   */\n  page() {\n    let totalCount = this.dict.get('count'),\n      pageCount = this.dict.get('limit'),\n      currentPage = this.dict.get('currentPage'),\n      maxPages = this.options.maxPages,\n      prevAndNext = this.options.prevAndNext;\n\n    if (!pageCount || !totalCount) {\n      return [];\n    }\n\n    return this.options.transformPages(\n      EasySearch._getPagesForPagination({ totalCount, pageCount, currentPage, maxPages, prevAndNext })\n    );\n  }\n\n  customRenderPagination() {\n    return this.getData().customRenderPagination;\n  }\n\n  /**\n   * Paginate documents.\n   */\n  paginate(page) {\n    check(page, Number);\n\n    this.index.getComponentMethods(this.name).paginate(page);\n  }\n\n  /**\n   * Return page classes.\n   *\n   * @param {Object} data Data for the current page\n   *\n   * @returns {String}\n   */\n  pageClasses(data) {\n    return `${(data.disabled ? 'disabled' : '' )} ${(data.current ? 'current' : '' )}`.trim();\n  }\n\n  /**\n   * Return true if there are more documents to load.\n   *\n   * @returns {Boolean}\n   */\n  moreDocuments() {\n    return this.index.getComponentMethods(this.name).hasMoreDocuments();\n  }\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n  events() {\n    return [{\n      'click .page:not(.disabled)' : function (e) {\n        let currentPage = this.currentData().page;\n        this.dict.set('currentPage', currentPage);\n        this.paginate(currentPage);\n\n        e.preventDefault();\n      }\n    }];\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions() {\n    return {\n      prevAndNext: true,\n      maxPages: null,\n      transformPages: (pages) => pages\n    };\n  }\n};\n\nEasySearch.PaginationComponent.register('EasySearch.Pagination');\n"]},"hash":"271e229b5e440340cfd37f63ec4d21d98df8b543"}
