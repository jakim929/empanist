<template name="cropUploader">
	{{>UI.dynamic template=cropUploaderTemplate}}
</template>

<template name="cropUploaderPlain">
	{{#if currentUser}}
		<div class="file-field input-field">
					<div class="btn">
						<span>File</span>
						<input type="file" class="crop-uploader-file">
					</div>
					<div class="file-path-wrapper">
						<input class="file-path validate" type="text">
					</div>
					{{#if allowURL}}<input type="url" class="crop-uploader-url" placeholder="Enter URL to image">{{/if}}
			<!-- {{#unless hideUpload}}
			<button class="btn crop-uploader-upload">Upload</button>
			{{else}}
			<button class="btn crop-uploader-upload hidden">Upload</button>
			{{/unless}} -->

		</div>
		{{#if getPreviewPresent}}
			<div class="row">
				<button class="btn crop-uploader-upload col s12">Upload</button>
			</div>
		{{/if}}
	{{/if}}

	<!-- <img id="{{thumbnailID}}" class="hidden"> -->
</template>

<template name="cropUploaderBootstrap">
	{{#if currentUser}}
	<form class="form-inline">
		<span class="btn btn-file btn-success">Select Image to Upload<input type="file" class="crop-uploader-file"></span>
		{{#if allowURL}} OR <input type="url" class="form-field crop-uploader-url" placeholder="Enter URL to image">{{/if}}
		{{#unless hideUpload}}
		<button class="btn btn-danger crop-uploader-upload">Upload</button>
		{{else}}
		<button class="btn btn-danger crop-uploader-upload hidden">Upload</button>
		{{/unless}}
	</form>
	{{/if}}
	<img id="{{thumbnailID}}" class="hidden">
</template>

<template name="cropUploaderImages">
	  <div class="images" id="images">
		  {{#each images}}
		  	<div class="thumbnail">
		  		{{#if derivatives.thumbnail}}
			  	<img src="{{derivatives.thumbnail}}" id="{{_id}}">
		  		{{else}}
		  		<img src="{{url}}" width="100" height="100" id="{{_id}}">
		  		{{/if}}
			  	<h6 class="id">{{_id}}</h6>
		  	</div>
		  {{/each}}
		  <div class="preview thumbnail">
			  <canvas id="thumbnail_canvas"></canvas>
			  <h6 class="id">Preview</h6>
		  </div>
	  </div>
</template>

<template name="cropUploaderCropper">
	<div class="image-container">
		<img id="crop-image" class="cropper-in-use" src="{{url}}">
	</div>
	<div class="img-preview"></div>
</template>
