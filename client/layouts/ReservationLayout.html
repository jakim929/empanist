<template name="ReservationLayout">
    <header>
        <h1> Your Reservation </h1>
    </header>
    <main>
      {{#with routeTransaction}}
      <div class="row">
        <div class="col l8 m12 s12">
          {{> Template.dynamic template="ReservationDetails" data=this}}
        </div>
        <div class="col l4 m12 s12">
          {{> Template.dynamic template="BookingCard" data=this }}
        </div>
      </div>
      {{/with}}

    </main>
</template>



<template name="ReservationDetails">
  <div class="card z-depth-0">
    <div class="card-content">
      <!-- <span class="card-title">Card Title</span> -->
      <div class="row">
        <div class="col l3 m12 s12">
          <h6>Sessions</h6>
        </div>
        <div class="col l9 m12 s12">
          <p>You have scheduled {{arrayLength scheduledSessions}} out of {{sessionCount}} sessions.<br> </p>

          <table class="responsive-table highlight">
            <!-- <thead>
              <tr>
                 <th data-field="id">Session</th>
                 <th data-field="name">Date</th>
                 <th data-field="price">Status</th>
               </tr>
            </thead> -->
            <tbody>
              {{#each scheduledSessions}}
              <tr>
                <td>{{sessionType}}</td>
                <td>{{formatDate date}}</td>
                <td>{{status}}</td>
              </tr>
              {{/each}}

            </tbody>
          </table>
          <a class="btn" href={{getSessionsLink}}>Review/Schedule All Sessions</a>
        </div>
      </div>
      <div class="divider"></div><br>



      <div class="row">
        <div class="col l3 m12 s12">
          <h6>Repertoire</h6>
        </div>
        <div class="col l9 m12 s12">
          <p>
            <table class="striped">
              <tbody>
                {{#each repertoire}}
                <tr>
                  <td>{{this.concerto}}</td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          </p>
        </div>
      </div>
      <div class="divider"></div><br>



      <div class="row">
        <div class="col l3 m12 s12">
          <h6>Location</h6>
        </div>
        <div class="col l9 m12 s12">
          <div class="row">
            <div class="col l6 m6 s6">
              <b>Rehearsal</b><br>
              {{#with rehearsalLocation}}
              {{else}}
              To be determined. <br> Accompanist yet to confirm.
              {{/with}}
            </div>

            <div class="col l6 m6 s6">
              <b>Performance</b><br>
              {{#with performanceLocation}}
              {{this}}
              {{else}}
              To be determined. <br> Please update performance location.
              {{/with}}
            </div>

          </div>

        </div>
      </div>
      <div class="divider"></div><br>


      <div class="row">
        <div class="col l3 m12 s12">
          <h6>Payment</h6>
        </div>
        <div class="col l9 m12 s12">

            <div class="col s10">
              <table class="striped">
                <thead>
                  <th data-field="id">Sessions</th>
                  <th data-field="name">Per Session</th>
                  <th data-field="price">Total</th>
                </thead>
                 <tbody>
                   {{#with paymentInfo accompanist sessionCount}}
                   <tr>
                     <td>{{sessionCount}} sessions</td>
                     <td>${{hourlyCharge}}.00</td>
                     <td>${{total}}.00</td>
                   </tr>
                   {{else}}
                   Error with payment info.
                   {{/with}}
                 </tbody>
               </table>
             </div>
           <br>
        </div>
      </div>


    </div>
  </div>
</template>


<template name="ReservationDetailsOld">
  <div class="card z-depth-0">
    <div class="card-content">
      <!-- <span class="card-title">Card Title</span> -->
      <h6>Sessions</h6>
      <div class="divider"></div><br>
      <p>I am a very simple card. I am good at containing small bits of information.
      I am convenient because I require little markup to use effectively.</p><br><br>

      <h6>Repertoire</h6>
      <div class="divider"></div><br>
      <p>I am a very simple card. I am good at containing small bits of information.
      I am convenient because I require little markup to use effectively.</p><br><br>

      <h6>Rehearsal</h6>
      <div class="divider"></div><br>
      <p>I am a very simple card. I am good at containing small bits of information.
      I am convenient because I require little markup to use effectively.</p><br><br>

      <h6>Performance</h6>
      <div class="divider"></div><br>
      <p>I am a very simple card. I am good at containing small bits of information.
      I am convenient because I require little markup to use effectively.</p><br><br>

      <h6>Payment</h6>
      <div class="divider"></div><br>
      <p>I am a very simple card. I am good at containing small bits of information.
      I am convenient because I require little markup to use effectively.</p><br><br>

    </div>
  </div>
</template>
