<template name="AddInfoLayout">
    <header>
      {{#if profileDoc}}
        <h1>Edit Profile</h1>
      {{else}}
        <h1>Create a Profile</h1>
      {{/if}}
    </header>
    <main>
      {{> makeUpdateAccountForm}}
      {{> upsertProfileForm}}
    </main>
</template>

<template name="makeUpdateAccountForm">
  {{#if accountDoc}}
    {{> quickForm collection="Accounts" doc=accountDoc id="makeUpdateProfileForm" type="update"}}
  {{else}}
    {{> quickForm collection="Accounts" id="makeUpdateProfileForm" type="insert"}}
  {{/if}}
</template>

<template name="makeUpdateProfileForm">
  {{#if profileDoc}}
    {{> quickForm collection="MusicProfiles" doc=profileDoc id="makeUpdateProfileForm" type="update"}}
  {{else}}
    {{> quickForm collection="MusicProfiles" id="makeUpdateProfileForm" type="insert"}}
  {{/if}}
</template>

<template name="upsertProfileForm">
  {{#autoForm collection="MusicProfiles" doc=profileDoc id="upsertProfileForm" type="update"}}
    {{>afQuickField name="instrument" options=accounts}}
    {{>afQuickField name="yearsPlayed"}}
    {{>afQuickField name="awards" type="selectize" multiple="true" selectizeOptions=accounts }}
    {{>afQuickField name="musicPrograms"}}
    {{>afQuickField name="orchestras"}}
  {{/autoForm}}
</template>


<template name="nameRender">
  {{name}}
</template>
