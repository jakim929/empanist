<template name="AccompanistDashboard">
    <header>
    </header>
    <main>
        <br>
        {{> BookingCardExample}}
        {{> notifications }}
        {{> ReceivedBookingRequests}}

    </main>
</template>

<template name="EditAccompanistProfiles">
  <button><a href="/newaccomp">Edit Accompanist Profile</a></button>
  <button name="requestNotification">Press</button>
</template>


<template name="TabStructure">
  <div class="row">
    <div class="col s12">
      <ul class="tabs">
        <li class="tab col s3"><a href="#booking-requests">Booking Requests</a></li>
        <li class="tab col s3"><a href="#profile">Profile</a></li>
      </ul>
    </div>
    <div id="booking-requests" class="col s12">{{> ReceivedBookingRequests }}</div>
    <div id="profile" class="col s12">{{> NewAccompLayout}}</div>

  </div>
</template>

<template name="ReceivedBookingRequests">
  <div class="carousel carousel-slider center" data-indicators="true">
    <div class="carousel-fixed-item center">
      <a class="btn waves-effect white grey-text darken-text-2">button</a>
    </div>
    <div class="carousel-item red white-text" href="#one!">
      <h2>First Panel</h2>
      <p class="white-text">This is your first panel</p>
    </div>
    <div class="carousel-item amber white-text" href="#two!">
      <h2>Second Panel</h2>
      <p class="white-text">This is your second panel</p>
    </div>
    <div class="carousel-item green white-text" href="#three!">
      <h2>Third Panel</h2>
      <p class="white-text">This is your third panel</p>
    </div>
    <div class="carousel-item blue white-text" href="#four!">
      <h2>Fourth Panel</h2>
      <p class="white-text">This is your fourth panel</p>
    </div>
  </div>
  <!-- <div class="row">
    <div class="col s12 m5 l5">
      <div class="card horizontal">
        <div class="card-image">
          <img src="/images/profile.png">
        </div>
        <div class="card-stacked">
          <div class="card-content">
            <p>I am a very simple card. I am good at containing small bits of information.</p>
          </div>
          <div class="card-action">
            <a href="#">This is a link</a>
          </div>
        </div>
      </div>
    </div>
  </div> -->
</template>


<template name="CollapsibleStructure">
  {{#with receivedBookingRequests}}
    <ul class="collapsible z-depth-0" data-collapsible="expandable">
      <li>
        <div class="collapsible-header active"><i class="material-icons">people</i>Pending Bookings ({{this.pending.length}})</div>
        <div class="collapsible-body">{{> Template.dynamic template="bookingList" data=this.pending }}</div>
      </li>

      <li>
        <div class="collapsible-header active"><i class="material-icons">filter_drama</i>Ongoing Bookings ({{this.ongoing.length}})</div>
        <div class="collapsible-body">{{> Template.dynamic template="bookingList" data=this.ongoing }}</div>
      </li>

      <li>
        <div class="collapsible-header active"><i class="material-icons">filter_drama</i>Previous Bookings ({{this.completed.length}})</div>
        <div class="collapsible-body">{{> Template.dynamic template="bookingList" data=this.completed }}</div>
      </li>

      <li>
        <div class="collapsible-header active"><i class="material-icons">filter_drama</i>Cancelled Bookings ({{this.cancelled.length}})</div>
        <div class="collapsible-body">{{> Template.dynamic template="bookingList" data=this.cancelled }}</div>
      </li>
    </ul>
  {{else}}
  You currently have no bookings... Here's how you can increase your profile.
  {{/with}}

</template>


<template name="request">

    <li class="collection-item avatar">
      {{#with profilePicUrlById}}
        <img src={{this}} alt="" class="circle">
      {{else}}
        <img src="/images/musician.png" alt="" class="circle">
      {{/with}}
      {{#with basicProfileById musician}}
        <span class="title"><a href={{getProfileRoute _id}}>{{name}}</a></span>
      {{/with}}
      {{#with musicProfileById musician}}
        <p class="no-padding">{{instrument}} </p>
      {{/with}}
        <p class="no-padding">{{formatDuration this.startDate this.endDate}}</p>
      <a href={{getBookingRoute _id}} class="secondary-content btn waves-effect waves-light review-booking">Confirm/Reject</a>
    </li>

</template>



<template name="bookingList">
  <ul class="collection">
    {{#each this}}
     {{> Template.dynamic template="request" data=this}}
    {{/each}}
  </ul>
</template>
