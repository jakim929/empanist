<template name="TestLayout">


  <header>
  <link rel="stylesheet" href="../style.css">
  <link rel="stylesheet" href="../style.scss">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </header>


  <main>

    {{>AdminPanel}}
    <div class="row">
      <div class="col s6">
        <div class="card z-depth-0">
          <div class="card-content">
            {{>SubmerchantPanel}}
          </div>
        </div>
      </div>
    </div>

  </main>
</template>


<template name="CurrentMerchant">

</template>

<template name="SubmerchantPanel">
  {{#autoForm collection="MerchantAccounts" id="insertMerchantAccount" type="normal"}}
  <div class="row">
    {{#with getExistingDetails}}
        <div class="col l6 m6 s12">
          {{> afQuickField name="individual.firstName" defaultValue=firstName}}
        </div>
        <div class="col l6 m6 s12">
          {{> afQuickField name="individual.lastName" defaultValue=lastName}}
        </div>
        <div class="col l6 m6 s12">
          {{> afQuickField name="individual.dateOfBirth" defaultValue=birthDate}}
        </div>
    {{else}}
      <div class="col l6 m6 s12">
        {{> afQuickField name="individual.firstName" }}
      </div>
      <div class="col l6 m6 s12">
        {{> afQuickField name="individual.lastName"}}
      </div>
      <div class="col l6 m6 s12">
        {{> afQuickField name="individual.dateOfBirth"}}
      </div>
    {{/with}}
  </div>

  <div class="row">
    <div class="col l12 m12 s12">
      {{#with getCurrentEmail}}
        {{> afQuickField name="individual.email" defaultValue=this}}
      {{else}}
        {{> afQuickField name="individual.email"}}
      {{/with}}
    </div>
  </div>

  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="individual.phone"}}
    </div>
  </div>
  <div class="row">
    <div class="col l6 m6 s12">
      {{> afQuickField name="individual.ssn"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="individual.address.streetAddress"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="individual.address.locality"}}
    </div>
  </div>
  <div class="row">
    <div class="col l6 m6 s12">
      {{> afQuickField name="individual.address.region"}}
    </div>
  </div>
  <div class="row">
    <div class="col l6 m6 s12">
      {{> afQuickField name="individual.address.postalCode"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="funding.accountNumber"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="funding.routingNumber"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="tosAccepted"}}
    </div><br><br>
  </div>
    <button type="submit" class="btn teal lighten-1 make-submerchant">Insert</button>
  {{/autoForm}}
</template>

<template name="SubmerchantUpdatePanel">
  {{> sAlert}}
  {{#autoForm collection="MerchantAccounts" id="updateMerchantAccount" type="method" meteormethod="makeSubmerchant"}}
  {{#with getErrorValue}}
    {{this}}
  {{/with}}
  <div class="row">
    {{#with getExistingDetails}}
        <div class="col l6 m6 s12">
          {{> afQuickField name="individual.firstName" defaultValue=firstName}}
        </div>
        <div class="col l6 m6 s12">
          {{> afQuickField name="individual.lastName" defaultValue=lastName}}
        </div>
        <div class="col l6 m6 s12">
          {{> afQuickField name="individual.dateOfBirth" defaultValue=birthDate}}
        </div>
    {{else}}
      <div class="col l6 m6 s12">
        {{> afQuickField name="individual.firstName" }}
      </div>
      <div class="col l6 m6 s12">
        {{> afQuickField name="individual.lastName"}}
      </div>
      <div class="col l6 m6 s12">
        {{> afQuickField name="individual.dateOfBirth"}}
      </div>
    {{/with}}
  </div>

  <div class="row">
    <div class="col l12 m12 s12">
      {{#with getCurrentEmail}}
        {{> afQuickField name="individual.email" defaultValue=this}}
      {{else}}
        {{> afQuickField name="individual.email"}}
      {{/with}}
    </div>
  </div>

  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="individual.phone"}}
    </div>
  </div>
  <div class="row">
    <div class="col l6 m6 s12">
      {{> afQuickField name="individual.ssn"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="individual.address.streetAddress"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="individual.address.locality"}}
    </div>
  </div>
  <div class="row">
    <div class="col l6 m6 s12">
      {{> afQuickField name="individual.address.region"}}
    </div>
  </div>
  <div class="row">
    <div class="col l6 m6 s12">
      {{> afQuickField name="individual.address.postalCode"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="funding.accountNumber"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="funding.routingNumber"}}
    </div>
  </div>
  <div class="row">
    <div class="col l12 m12 s12">
      {{> afQuickField name="tosAccepted"}}
    </div><br><br>
  </div>
    <button type="submit" class="btn teal lighten-1 make-submerchant">Insert</button>
  {{/autoForm}}
</template>


<template name="PaymentControl">
  <div class="card z-depth-0 payment-control-container">

    <div class="card-content">
      <h6 class='center'><i class="material-icons icon-align">credit_card</i>&nbsp;&nbsp;Choose Payment Method</h6>
      <div class="divider"></div><br><br>
      {{>PaymentSelection}}
    </div>
    <div class="card-reveal">
      <span class="card-title grey-text text-darken-4"><i class="material-icons right">close</i></span>
      {{>PaymentPanel}}
    </div>
  </div>
</template>

<template name="PaymentPanel">
    <div class="payment-panel">
          <form action="/" id="credit-card-braintree-form" method="post">
            <div class="payment-info-label">
              {{#with errorMessage}}
                <h6>{{this}}</h6>
              {{else}}
                <h6>Please enter your credit card information.</h6>
              {{/with}}
              <br>
            </div>

            <div class="card-payment-input-block">
              <span class="grey-text card-payment-label"><i class="material-icons icon-align">credit_card</i>&nbsp;&nbsp;Card Number</span>
              <div id="card-number" class="card-payment-details"></div>
            </div>
            <!-- <div class='divider card-payment-details-divider'></div> -->


            <!-- <div class='divider card-payment-details-divider'></div> -->
            <div class="row">
              <div class="card-payment-input-block col l6 m6 s12">
                <span class="grey-text card-payment-label"><i class="material-icons icon-align">date_range</i>&nbsp;&nbsp;MM/YY</span>
                <div id="expiration-date" class="card-payment-details"></div>
              </div>

              <div class="card-payment-input-block col l6 m6 s12">
                <span class="grey-text card-payment-label"><i class="material-icons icon-align">lock_outline</i>&nbsp;&nbsp;CVV</span>
                <div id="cvv" class="card-payment-details"></div>
              </div>

            <!-- <div class='divider card-payment-details-divider'></div> -->

              <div class="card-payment-input-block col l6 m6 s12">
                <span class="grey-text card-payment-label"><i class="material-icons icon-align">business</i>&nbsp;&nbsp;Zip Code</span>
                <div id="postal-code" class="card-payment-details"></div>
              </div>
            </div>
            <div class="hide-on-small-only">
              <br><br><br>
            </div>
            <br>
            <div class="row">
              <input type="submit" class="btn col s12 teal lighten-1 z-depth-0" value="Use Payment & Confirm" />
            </div>
          </form>
    </div>
</template>

<template name="PaymentSelection">
  {{#with getPaymentMethods}}
    <div class="collection">
      {{#each this}}
      <a href="" class="collection-item payment-method-selector valign-wrapper {{getSelectionStatus uni}}" data-id="{{uni}}">
        <div class="row">
          <div class="col l2 m2 hide-on-small-only"><img class="valign credit-card-type-image" src="{{getCreditCardImage cardType}}"></div>
          <div class="col l10 m10 s12 valign">{{cardType}} ending in {{last4}}</div>
        </div>
      </a>
      {{/each}}
      <a href="" class="collection-item {{getLastStatus}} activator">
          <!-- <div class="valign-wrapper"> -->
            <!-- <div class="center col s2"><i class="material-icons icon-align">credit_card</i></div> -->
            <span class="activator"> Use Another Credit Card </span>
          <!-- </div> -->
      </a>
    </div>
    <div class="hide-on-small-only">
      <br><br><br>
    </div>
    <br>
    <div class="row">
      <btn class="confirm-transaction {{getConfirmButtonStatus}} col s12 z-depth-0 btn teal lighten-1">
        Use Payment & Confirm
      </btn>
    </div>
  {{else}}

    <div class="center">
      <h7>Loading Payment Methods...</h7><br>
      <br><br>
      <div class="preloader-wrapper big active">
        <div class="spinner-layer spinner-blue-only">
          <div class="circle-clipper left">
            <div class="circle"></div>
          </div><div class="gap-patch">
            <div class="circle"></div>
          </div><div class="circle-clipper right">
            <div class="circle"></div>
          </div>
        </div>
      </div>
    </div>

  {{/with}}
</template>



<!-- PAYMENT PANEL DROPIN -->

<!--
<template name="PaymentPanel">
    <div class="card z-depth-0">
      <div class="card-content">
        <div class="row">
          <form>
            <div id="dropin-container"></div><br>
            <div class="row pay-button">
              <input type='submit' class='waves-effect waves-light btn col s8 offset-s2 z-depth-0' value='Add Payment Method'/>
            </div>
          </form>
        </div>
      </div>
    </div>
</template> -->

<template name="AdminPanel">
  <div class="row">
    <div class="col s6">
      <div class="card z-depth-0">
        <div class="card-content">
          <fieldset id="AdminPanel">
            <legend for="AdminPanel">
              Admin Panel
            </legend>

            <div class="row">
              <div class="col s6">
                <label for="numberOfUsers">Number of Users to Add</label>
                <input type="number" id="numberOfUsers">
              </div>
              <br>
              <div class="col s6">
                  <button class="btn add-fake-users z-depth-0">Add Users</button>
              </div>

            </div>

          </fieldset>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="TestResultCard">
  <div class="card hoverable z-depth-1">
    <div class="card-content">
      <div class="row">
        <div class="col s2">
          <img src="images\profile.png" class="profile-picture circle responsive-img">
        </div>
        <div class="col s3">
          <div class="row">
            <h6 class="semi-bold">James K.</h6>
          </div>
          <div class="row">
            <h7>Trinity Laban Conservatoire of Music and Dance</h7>
          </div>
          <div class="row">
            <div class="semi-bold">
              $45/hour
            </div>
          </div>
          <div class="row">
            Cambridge, MA
          </div>

        </div>
        <div class="col s7">
          <div class="slight-left-padding slight-right-padding">
            <div class="row">
              <div class="col s12">
                <h6 class="teal-text">Juilliard Trained Musician - Extensive Repertoire</h6>
              </div>

            </div>
            <div class="slight-left-padding slight-upper-padding">
              <div class="row">
                <p class="block-with-text">I am a music teacher with 15 years of experience teaching flute, recorder, music theory, music history, ear training and music literature. I have contributed to the creation of music curriculums in one of the most renowned music schools in Montreal as well as being the author of a series of published music theory and music literature exercise books. I am also an active performer on the Boston classical music scene. I teach students of all ages and levels of proficiency. Lesson style is adapted to the goals of the student.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
