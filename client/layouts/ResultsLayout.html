<template name="ResultsLayout">
    <main>
		{{> advancedSearch}}
		{{> results}}
    </main>
</template>

<template name="results">	
	<div class="resultsContainer">
	{{#if noResults accompanists}}
		<p>Sorry, no results found (aka go and tell your friends to use our amazing platform!)</p>
		{{else}}
		<div class="row">
		{{#each accompanists}}
			<a class="keep-date changeColor" href={{getProfileRoute Id}}>
				<div  href={{getProfileRoute Id}} class="card result-card col s12 m5 l5 grey lighten-5 z-depth-0">
					<div class="card-content">
						<div class="mainResults">
			        <div id="resultsBackgroundImg">
				        <a class="waves-effect waves-light">
				          <img class=" responsive-img" src="http://materializecss.com/images/parallax1.jpg">
				        </a>
			        </div>
			        <div id="resultsProfileImg">
				        <a class="waves-effect waves-light">
				          <img class="responsive-img circle" src="http://www.famousbirthdays.com/faces/cerny-amanda-image.jpg">
				        </a>
			        </div>
							
							<div class="nameAffili ">
								<p class="bold ellipsis">{{accompname.name}}</p> 
								<p class="ellipsis">{{accompname.affiliation}}</p>
							</div>
							<br>
							
							<div class="divide">
							<p class="top">
								<i id="align_text" class="small material-icons prefix blue-text text-darken-2">attach_money</i>
								{{charge}}/hr
							</p>
							<p class="ellipsis">
								<i id="align_text" class="small material-icons prefix blue-text text-darken-2">location_on</i>
								{{mylocation}}
							</p> 
						</div>
							
						<div class="divide">
							<p class="top">
								<i id="align_text" class="small material-icons prefix blue-text text-darken-2">access_time</i>
								
								{{#if allTimes working_hours}}
									Anytime
								{{else}}
									{{#each working_hours}}
										{{this}}, 
									{{/each}}
								{{/if}}

							</p>
							<p>
								<i id="align_text" class="small material-icons prefix blue-text text-darken-2">event</i>
								{{#if allDays working_days }}
									Any Day
								{{else}}
									{{#each working_days}}
										{{formatDay this}}, 
									{{/each}}
								{{/if}}
							</p> 
						</div>
							<!-- <p class="oneLiner"> {{one_liner}}</p> -->
						</div>
					</div>
				</div>
			</a>	
		{{/each}}
	</div>
	{{/if}}
</div>
</template>


<template name="advancedSearch">
  <div class="card grey lighten-5 z-depth-0">
    <div class="card-content">
    	{{#autoForm schema="SearchDataSchema" id="advancedSearch" type="normal" }}
        <h10>Advanced Search</h10>
        <div class="row">
          <div class="input-field col s4">
            {{>afFieldInput name="address" class="autocomplete" id="autocomplete" type="text" value=address}}
            <label for="address" class="active" >Enter Location</label>
          </div>
           <div class="input-field col s4">
            {{>afFieldInput name="start_date" id="start_date" class="datepicker" type="date" }}
            <label class="active">Start Date</label>
          </div>
          <div class="input-field col s4">
            {{>afFieldInput name="end_date" id="end_date" class="datepicker" type="date"}}
            <label class="active">End Date</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s4">
            {{>afQuickField name="charge" value=charge }}
          </div>
          <div class="input-field col s4">
            {{>afQuickField name="session_location" value=session_location }}
          </div>
          <div class="input-field col s4">
            {{>afQuickField name="radius" value=rads}}
          </div>
        </div>
        <div class="row">
        	<div class="input-field col s4">
          	<h10>Practice Times</h10>
          	{{>afQuickField name="working_hours" value=times }}
        	</div> 
        	<div class="input-field col s4">
        		<h10>Practice Days</h10>
          	{{>afQuickField name="working_days" value=days}}
        	</div>
       		<button type="submit" class=" btn cols s4 card-title btn right btn-primary " id="search">Search</button>
				</div> 
      {{/autoForm}} 
    </div>
  </div>
 </template>
